"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[663],{5663:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var s=t(5043),a=t(5137),n=t(4287),o=t(2454),i=t(1498),l=t(3726),c=t.n(l),u=t(579);const d=()=>{var e;const[r,t]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[h,{isLoading:g,isError:p,error:m}]=(0,n.Yi)(),v=(0,a.wA)();return(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await h({email:r,password:l}).unwrap();localStorage.setItem("token",e.token),localStorage.setItem("refreshToken",e.refreshToken),v((0,o.O5)({token:e.token,refreshToken:e.refreshToken})),c().Notify.success("Login success!")}catch(m){var t;c().Notify.failure((null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.message)||"Login failed. Please try again."),console.error("Login error:",m)}},children:[(0,u.jsxs)("label",{children:["Email:",(0,u.jsx)("input",{type:"email",value:r,onChange:e=>t(e.target.value),required:!0})]}),(0,u.jsxs)("label",{children:["Password:",(0,u.jsx)("input",{type:"password",value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,u.jsx)(i.$,{type:"submit",isLoading:g,children:"Log In"}),p&&(0,u.jsxs)("p",{style:{color:"red"},children:["Error: ",null===(e=m.data)||void 0===e?void 0:e.message]})]})};var h=t(7119);const g=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.H1,{children:"Log in into your account"}),(0,u.jsx)(d,{})]})},7119:(e,r,t)=>{t.d(r,{H1:()=>n});var s,a=t(7528);const n=t(927).Ay.h1(s||(s=(0,a.A)(["\n  text-align: center;\n  margin-top: 24px;\n  font-size: 20px;\n"])))}}]);
//# sourceMappingURL=663.80d93436.chunk.js.map